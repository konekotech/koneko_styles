\setmainfont{CenturyOldstBT}
\setsansfont{Helvetica}
\setsansjfont{HiraginoSans}


% カスタムヘッダ
\usepackage{xcolor}
\usepackage{fancyhdr}

\renewcommand{\sectionmark}[1]{\markright{\thesection\space#1}{}}

%章番号とか
\setcounter{secnumdepth}{3} % この行をプリアンブルに追加
%
\usepackage{titlesec}

\titleformat*{\section}{\Large\bfseries\sffamily}
\titleformat*{\subsection}{\large\bfseries\sffamily}
\titleformat*{\subsubsection}{\large\sffamily}

%目次の変更
\renewcommand{\contentsname}{目　次}

%脚注のカスタマイズ
\renewcommand{\thefootnote}{\dagger\arabic{footnote}}


\newcommand{\oreillymaketitle}[1]{
    \maketitle
    \newpage
    \thispagestyle{customfooter}
    \vspace*{21cm}
    \noindent\copyright #1 All rights reserved.\\\\本書で使用するシステム名、製品名は、いずれも各社の商標、または登録商標です。\\なお、本文中では${}^{\rm{TM}}$、\textregistered、\copyright マークは省略している場合もあります。
    \newpage
    \pagestyle{oreilly-style}
    \pagenumbering{roman}
    \setcounter{page}{3}
    \setcounter{tocdepth}{2}
    \tableofcontents
    \ifodd\value{page}
        \clearpage
        \pagenumbering{arabic}
        \setcounter{page}{0}
    \else
        \clearpage
        \pagenumbering{arabic}
        \setcounter{page}{1}
    \fi
}
